<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Redirect Login</title>
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
    font-family: "Poppins", sans-serif;
  }
  body {
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    height: 100vh;
    display: flex; justify-content: center; align-items: center;
    color: white;
  }
  .container {
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 40px 30px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    text-align: center;
  }
  h2 {
    margin-bottom: 20px;
    font-size: 22px;
  }
  .social-btn {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 8px;
    margin-bottom: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
  }
  .google { background: #db4437; color: white; }
  .facebook { background: #1877f2; color: white; }
  .social-btn:hover { opacity: 0.9; }

  .divider {
    margin: 20px 0;
    text-align: center;
    position: relative;
  }
  .divider::before, .divider::after {
    content: "";
    position: absolute;
    top: 50%; width: 40%; height: 1px;
    background: rgba(255,255,255,0.3);
  }
  .divider::before { left: 0; }
  .divider::after { right: 0; }

  input {
    width: 100%;
    padding: 10px;
    border: none;
    outline: none;
    border-radius: 8px;
    margin-bottom: 12px;
    font-size: 14px;
  }
  .remember {
    display: flex; justify-content: space-between;
    align-items: center; font-size: 13px;
    margin-bottom: 15px;
  }
  .remember input { width: auto; margin-right: 5px; }

  .login-btn {
    width: 100%; padding: 10px;
    border: none; border-radius: 8px;
    background: #FFD700;
    color: black; font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
  }
  .login-btn:hover { background: #ffcc00; }

  .forgot {
    color: #00bfff; cursor: pointer; font-size: 13px;
  }

  /* Generator section */
  .generator {
    display: none;
    flex-direction: column;
    align-items: center;
  }
  .generator input {
    width: 100%;
    margin-bottom: 10px;
  }
  .output {
    margin-top: 10px;
    font-size: 14px;
    color: #90ee90;
    word-break: break-all;
  }
</style>
</head>
<body>

<div class="container" id="loginContainer">
  <h2>Welcome to Smart Redirect</h2>
  <button class="social-btn google">Continue with Google</button>
  <button class="social-btn facebook">Continue with Facebook</button>

  <div class="divider">or</div>

  <input type="email" id="email" placeholder="Enter your email" required>
  <div style="position: relative; width: 100%;">
    <input type="password" id="password" placeholder="Enter your password" required style="width: 100%; padding: 10px 40px 10px 12px; border-radius: 8px; border: 1px solid #555; background: #2b2b2b; color: #fff;">
    <span onclick="togglePassword()" id="eyeIcon" style="position: absolute; right: 12px; top: 9px; cursor: pointer; font-size: 18px;">üëÅÔ∏è</span>
  </div>

  <div class="remember">
    <label><input type="checkbox" id="rememberMe"> Remember me</label>
    <span class="forgot" onclick="forgotPassword()">Forgot Password?</span>
  </div>

  <button class="login-btn" onclick="login()">Log In</button>
</div>

<div class="container generator" id="generatorBox">
  <h2>Smart Redirect Generator</h2>
  <input type="text" id="linkInput" placeholder="Enter your original link...">
  <button class="login-btn" onclick="generateLink()">Generate</button>
  <div class="output" id="output"></div>
</div>

<script>
  const loginContainer = document.getElementById('loginContainer');
  const generatorBox = document.getElementById('generatorBox');
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');
  const rememberMe = document.getElementById('rememberMe');

  // Load saved login info
  window.onload = () => {
    if (localStorage.getItem("savedEmail")) {
      emailInput.value = localStorage.getItem("savedEmail");
      rememberMe.checked = true;
    }

    // üî• Check if user is already logged in
    if (localStorage.getItem("isLoggedIn") === "true") {
      showGenerator();
    }
  };

  // üëÅÔ∏è Toggle password visibility
  function togglePassword() {
    const passwordField = document.getElementById("password");
    const eyeIcon = document.getElementById("eyeIcon");
    if (passwordField.type === "password") {
      passwordField.type = "text";
      eyeIcon.textContent = "üôà";
    } else {
      passwordField.type = "password";
      eyeIcon.textContent = "üëÅÔ∏è";
    }
  }

  // ‚úÖ Login function
  function login() {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();

    if (!email || !password) {
      alert("Please enter both email and password!");
      return;
    }

    if (rememberMe.checked) {
      localStorage.setItem("savedEmail", email);
    } else {
      localStorage.removeItem("savedEmail");
    }

    localStorage.setItem("isLoggedIn", "true");
    showGenerator();
  }

  function showGenerator() {
    loginContainer.style.display = "none";
    generatorBox.style.display = "flex";
  }

  function logout() {
    localStorage.removeItem("isLoggedIn");
    generatorBox.style.display = "none";
    loginContainer.style.display = "block";
  }

  function forgotPassword() {
    const email = prompt("Enter your registered email to reset password:");
    if (email) {
      alert("Password reset link has been sent to " + email);
    }
  }

  // üîó Generate redirect link
  function generateLink() {
    const input = document.getElementById('linkInput').value.trim();
    const output = document.getElementById('output');
    if (!input) {
      output.textContent = "Please enter a valid link!";
      output.style.color = "tomato";
      return;
    }

    const code = Math.random().toString(36).substring(2, 8);
    const customLink = `https://yourusername.github.io/redirect/?code=${code}`;
    output.style.color = "#90ee90";
    output.innerHTML = `Generated Link: <br><b>${customLink}</b><br><br>
    <button onclick="logout()" style="padding:8px 14px;border:none;background:#ff4040;color:white;border-radius:6px;cursor:pointer;">Logout</button>`;
  }
</script>

</body>
</html>
